{% extends "base.html" %} {% block title %}
{{_('Crear cuenta - AClimate Admin')}}{% endblock %} 
{% block scripts %}
<script src="{{ url_for('static', filename='js/login.js') }}"></script>
{% endblock %} {% block content %}
<div class="container-fluid p-0">
  <div class="row g-0 min-vh-100">
    <!-- Lado izquierdo con fondo animado -->
    <div
      class="col-md-8 bg-dark text-white position-relative d-flex flex-column"
      id="box"
    >
      <div class="p-4 position-relative" style="z-index: 2">
        <img
          src="{{ url_for('static', filename='img/logo.png') }}"
          class="img-fluid"
          alt="AClimate Logo"
          style="max-width: 60px"
        />
      </div>

      <div class="flex-grow-1 d-flex align-items-center justify-content-center">
        <div class="text-center p-4 position-relative" style="z-index: 2">
          <h1 class="display-5 fw-normal mb-2">{{_('Bienvenido a')}}</h1>
          <h2 class="display-4 fw-bold mb-4">AClimate Admin</h2>
          <p class="fs-6 mx-auto" style="max-width: 500px; text-wrap: pretty">
            {{_('Sistema de administración para la gestión de los datos de AClimate.')}}
          </p>
        </div>
      </div>
    </div>

    <!-- Lado derecho con formulario -->
    <div
      class="col-md-4 bg-light d-flex align-items-center justify-content-center"
    >
      <div class="w-100 px-3" style="min-width: 250px">
        <div class="text-center mb-4">
          <img
            src="{{ url_for('static', filename='img/logo.png') }}"
            class="img-fluid mb-3"
            alt="AClimate Logo"
            style="max-width: 90px"
          />
          <h4 class="fw-bold">AClimate Admin</h4>
          <p>{{_('Crea cuenta para acceder al panel de administración')}}</p>
        </div>

        <form method="POST" action="" class="needs-validation" novalidate>
          {{ form.hidden_tag() }}

          <!-- Row for Name and Last Name -->
          <div class="row">
            <!-- Name -->
            <div class="col-md-6 mb-3">
              <label for="name" class="form-label fw-semibold">
                <i class="fas fa-id-badge me-2"></i>{{form.name.label.text}}
              </label>
              {% if form.name.errors %}
              {{ form.name(class="form-control is-invalid", id="name", placeholder=_('Ingresa tu nombre')) }}
              <div class="invalid-feedback">
                {% for error in form.name.errors %}
                <small><i class="fas fa-exclamation-circle me-1"></i>{{ error }}</small>
                {% endfor %}
              </div>
              {% else %}
              {{ form.name(class="form-control", id="name", placeholder=_('Ingresa tu nombre')) }}
              {% endif %}
            </div>

            <!-- Last Name -->
            <div class="col-md-6 mb-3">
              <label for="last_name" class="form-label fw-semibold">
                <i class="fas fa-user-tag me-2"></i>{{form.last_name.label.text}}
              </label>
              {% if form.last_name.errors %}
              {{ form.last_name(class="form-control is-invalid", id="last_name", placeholder=_('Ingresa tu apellido')) }}
              <div class="invalid-feedback">
                {% for error in form.last_name.errors %}
                <small><i class="fas fa-exclamation-circle me-1"></i>{{ error }}</small>
                {% endfor %}
              </div>
              {% else %}
              {{ form.last_name(class="form-control", id="last_name", placeholder=_('Ingresa tu apellido')) }}
              {% endif %}
            </div>
          </div>

          <!-- Username -->
          <div class="mb-3">
            <label for="username" class="form-label fw-semibold">
              <i class="fas fa-at me-2"></i>{{form.username.label.text}}
            </label>
            {% if form.username.errors %}
            {{ form.username(class="form-control is-invalid", id="username", placeholder=_('Elige un nombre de usuario único')) }}
            <div class="invalid-feedback">
              {% for error in form.username.errors %}
              <small><i class="fas fa-exclamation-circle me-1"></i>{{ error }}</small>
              {% endfor %}
            </div>
            {% else %}
            {{ form.username(class="form-control", id="username", placeholder=_('Elige un nombre de usuario único')) }}
            {% endif %}
            <div class="form-text">
              <i class="fas fa-info-circle me-1"></i>{{_('Mínimo 3 caracteres, sin espacios')}}
            </div>
          </div>

          <!-- Email -->
          <div class="mb-3">
            <label for="email" class="form-label fw-semibold">
              <i class="fas fa-envelope me-2"></i>{{form.email.label.text}}
            </label>
            {% if form.email.errors %}
            {{ form.email(class="form-control is-invalid", id="email", placeholder=_('ejemplo@dominio.com')) }}
            <div class="invalid-feedback">
              {% for error in form.email.errors %}
              <small><i class="fas fa-exclamation-circle me-1"></i>{{ error }}</small>
              {% endfor %}
            </div>
            {% else %}
            {{ form.email(class="form-control", id="email", placeholder=_('ejemplo@dominio.com')) }}
            {% endif %}
          </div>

          <!-- Password -->
          <div class="mb-3">
            <label for="password" class="form-label fw-semibold">
              <i class="fas fa-key me-2"></i>{{form.password.label.text}}
            </label>
            {% if form.password.errors %}
            {{ form.password(class="form-control is-invalid", id="password", placeholder=_('Crea una contraseña segura')) }}
            <div class="invalid-feedback">
              {% for error in form.password.errors %}
              <small><i class="fas fa-exclamation-circle me-1"></i>{{ error }}</small>
              {% endfor %}
            </div>
            {% else %}
            {{ form.password(class="form-control", id="password", placeholder=_('Crea una contraseña segura')) }}
            {% endif %}
            <div class="form-text">
              <i class="fas fa-shield-alt me-1"></i>{{_('Usa al menos 8 caracteres con mayúsculas y minúsculas')}}
            </div>
          </div>

          <!-- Already have account -->
          <div class="mb-3 text-center">
            <p class="mb-2">{{_('¿Ya tienes una cuenta?')}}</p>
            <a href="{{ url_for('main.login') }}" class="text-decoration-none fw-semibold">
              <i class="fas fa-sign-in-alt me-1"></i>{{_('Inicia sesión aquí')}}
            </a>
          </div>

          <!-- Submit Button -->
          <div class="d-grid">
            <button type="submit" class="btn btn-primary btn-lg">
              <i class="fas fa-user-plus me-2"></i>
              {{form.submit.label.text}}
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
